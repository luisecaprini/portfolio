"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[485],{45577:(e,t,n)=>{n.d(t,{q:()=>s});var o=n(45992),i=n(17588),r=n(66264),l=n(60708),d=n(70698),u=n(5441);const s=(0,i.forwardRef)(((e,t)=>{let{getItems:n,item:s,menuType:a,theme:m,shouldCloseWhenClickOutside:c=!1,menuTheme:h,styles:g,slideSize:v,getItemLayout:f}=e;const[C,T]=(0,i.useState)(n()),[y,b]=(0,i.useState)(!1),p=function(e){const t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{e&&("function"===typeof e?e(t.current):e.current=t.current)})),t}(t),x=(0,i.useCallback)((()=>{b((e=>!e))}),[]);(0,i.useEffect)((()=>{const e=null===s||void 0===s?void 0:s.on(r.q.Message,(e=>{e===l.m.Entering&&(T(n()),b(!1))}));return()=>{null===e||void 0===e||e()}}),[n,s]),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.useEffect)((()=>{const o=n=>{(null===t||void 0===t?void 0:t.current)&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("mouseup",o,n),document.addEventListener("touchend",o,n),()=>{document.removeEventListener("mouseup",o,n),document.removeEventListener("touchend",o,n)}}),[t,e,n])}((0,i.useCallback)((()=>{c&&y&&b(!1)}),[y,c]),p,!0),(0,i.useEffect)((()=>{T(n())}),[n]);const k=(0,d.CO)(a);return(0,u.T)({theme:m,children:(0,o.jsx)(k,{items:C,onToggleClick:x,opened:y,ref:p,theme:m,menuTheme:h,styles:g,slideSize:v,getItemLayout:f})})}))},15690:(e,t,n)=>{n.d(t,{M:()=>f});var o=n(45992),i=n(17588),r=n(89035),l=n(21646);const d=()=>{},u=(0,i.forwardRef)(((e,t)=>{let{styles:n}=e;const i=d;return(0,o.jsx)(l.W1,{ref:t,style:{width:"100%",height:"100%"},$backgroundColor:n.backgroundColor,$hamburgerIconColor:n.hamburgerIconColor,children:(0,o.jsxs)(l.YT,{"data-nav-element":"hamburger-menu-toggle",$width:r.sf,children:[(0,o.jsx)(l.e3,{}),(0,o.jsx)(l.cl,{onClick:i,role:"button",children:(0,o.jsx)(l.h_,{children:(0,o.jsx)(l.RG,{$color:n.hamburgerIconColor})})})]})})}));var s=n(58424),a=n(73242);const m=Math.random().toString(36).substring(7),c=()=>{},h=(0,i.forwardRef)(((e,t)=>{let{items:n,menuTheme:i,styles:r}=e;const l=`mainMenu-${m}`,d=c,{ref:u,hasScroll:h}=(0,s.x)();return(0,o.jsxs)(a.W1,{"aria-labelledby":l,role:"menu",ref:t,$menuTheme:i,style:{width:"100%",height:"100%"},$backgroundColor:r.backgroundColor,children:[h.horizontal&&(0,o.jsx)(a.hh,{onClick:d,$menuTheme:i,$disabled:!0,children:(0,o.jsx)(a.rZ,{})}),(0,o.jsx)(a.JU,{id:l,children:"Main menu"}),(0,o.jsx)(a.e3,{}),(0,o.jsx)(a.QS,{ref:u,children:n.map((e=>(0,o.jsx)(a.d,{$isLink:e.isLink,$isActive:e.isActive,$isAllowed:e.isAllowed,$backgroundColor:e.backgroundColor,$textColor:e.textColor,children:(0,o.jsx)(a.Dr,{tabIndex:-1,"aria-label":e.altText||void 0,"aria-disabled":!e.altText,children:(0,o.jsx)(a.gi,{children:e.text})})},e.text+e.key)))}),h.horizontal&&(0,o.jsx)(a.hh,{onClick:d,$menuTheme:i,children:(0,o.jsx)(a.wF,{})})]})}));var g=n(54769);var v=n(5441);const f=e=>{let{getItems:t,menuType:n,theme:i,styles:r,menuTheme:l}=e;const d=t(),s=(e=>{switch(e){case g.L.Horizontal:return h;case g.L.Hamburger:return u;default:return h}})(n);return(0,v.T)({theme:i,children:(0,o.jsx)(s,{items:d,menuTheme:l,styles:r})})}},93918:(e,t,n)=>{n.d(t,{N:()=>d,e:()=>s});var o=n(53607),i=n(48237);const r=(e,t,n)=>""===e?t(n?"__new.editor.widget.menu.sidebar.emptyTitlePlaceholder":"__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,l=(e,t)=>{var n,i,r,l;const d=e.menuItemAction.action;if(!d)return!1;const u=(0,o.n5)(d.type),s=null===(n=u.getSlideIdsFromSnapshot)||void 0===n?void 0:n.call(u,d),a=null===(i=t.getCurrentSlide())||void 0===i?void 0:i.id;if(s&&s.length>0)return a===s[0];const m=t.getSlides(),c=m.findIndex((e=>e.id===a));return"smartLink"in d.target&&"firstPage"===(null===(r=d.target)||void 0===r?void 0:r.smartLink)?0===c:"smartLink"in d.target&&"lastPage"===(null===(l=d.target)||void 0===l?void 0:l.smartLink)&&c===m.length-1},d=(e,t,n,o)=>e.map(((e,d)=>{var u;const s=(null===(u=e.menuItemAction.action)||void 0===u?void 0:u.type)===i.L.GoToSlide;return{text:r(e.menuItemName,n,o),key:d,onClick:()=>{},isLink:s,isActive:l(e,t),isAllowed:s,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}})),u={active:!1,allowed:!1},s=(e,t,n)=>e.map(((e,o)=>{var l,d;const s=!!(null===(l=e.menuItemAction)||void 0===l?void 0:l.data)&&(null===(a=e.menuItemAction.data)||void 0===a?void 0:a.type)===i.L.GoToSlide;var a;const{active:m,allowed:c}=s&&(null===(d=e.menuItemAction)||void 0===d?void 0:d.data)?t.getGoToSlideState(e.menuItemAction.data):u;return{text:r(e.menuItemName,t.t,n),key:o,onClick:()=>{var t;return null===(t=e.menuItemAction)||void 0===t?void 0:t.run()},isLink:s,isActive:m,isAllowed:c,altText:e.altText,backgroundColor:e.backgroundColor,textColor:e.textColor}}))},90485:(e,t,n)=>{n.r(t),n.d(t,{geniallyMenuViewScript:()=>s});var o=n(45992),i=n(41381),r=n(42511),l=n(45577),d=n(15690),u=n(93918);const s=(e,t)=>{const n=()=>{var t,n,o,i,r,l,d,u;return{width:null!==(n=null===(t=e.item)||void 0===t?void 0:t.width)&&void 0!==n?n:0,height:null!==(i=null===(o=e.item)||void 0===o?void 0:o.height)&&void 0!==i?i:0,left:null!==(l=null===(r=e.item)||void 0===r?void 0:r.x)&&void 0!==l?l:0,top:null!==(u=null===(d=e.item)||void 0===d?void 0:d.y)&&void 0!==u?u:0}};(0,i.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:()=>{var i;const{config:d,item:s}=e,{menuItems:a,menuType:m,menuTheme:c,backgroundColor:h,hamburgerIconColor:g}=d,v=null!==(i=null===s||void 0===s?void 0:s.parentSlide.size)&&void 0!==i?i:{width:0,height:0},f=()=>(0,u.e)(a,t,!1);return()=>(0,o.jsx)(r.W,{children:(0,o.jsx)(l.q,{getItems:f,item:s,menuType:m,theme:t.theme,shouldCloseWhenClickOutside:!0,menuTheme:c,styles:{backgroundColor:h,hamburgerIconColor:g},getItemLayout:n,slideSize:v})})},renderThumbnailApp:()=>{const{config:n}=e,{menuType:i,menuTheme:r,backgroundColor:l,hamburgerIconColor:s}=n;return(0,o.jsx)(d.M,{getItems:()=>(0,u.e)(e.config.menuItems,t,!1),menuType:i,menuTheme:r,theme:t.theme,styles:{backgroundColor:l,hamburgerIconColor:s}})}})(e,t)}},41381:(e,t,n)=>{n.d(t,{p:()=>l});var o=n(70377),i=n(66264),r=n(60708);function l(e){let{getTargetNodeItem:t,renderApp:n,renderThumbnailApp:l,initialState:d}=e,u=!1;const s=[],a=e=>{s.push(e)};return e=>{const m=t(e.config),c=null===m||void 0===m?void 0:m.parentSlide;function h(){if(!m)return;let e=null;if("idOfFreeNode"in m)e=document.getElementById(m.idOfFreeNode);else{const t=document.createElement("div");t.innerHTML=m.source;let n=t.getElementsByClassName("genially-widget-app");n.length||(n=t.getElementsByClassName("genially-widget-gallery"));const{id:o}=n[0];if(!o)return;e=document.getElementById(o)}if(e){const t=i=>{if(u){const r=n({setState:t,onUnmount:a});o.render(r(i),e)}else console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};u=!0,t(d),s.push((()=>{o.unmountComponentAtNode(e)}))}}function g(){u=!1,s.forEach((e=>{e()})),s.length=0}null===m||void 0===m||m.on(i.q.Mount,(()=>{h()})),null===m||void 0===m||m.on(i.q.Unmount,(()=>{g()})),m&&"isTransversal"in m&&m.isTransversal?h():null===c||void 0===c||c.on(r.m.Entering,(()=>{u||h()})),null===c||void 0===c||c.on(r.m.Exited,(()=>{m&&"isTransversal"in m&&m.isTransversal||u&&g()})),null===c||void 0===c||c.on(r.m.ThumbnailMount,(()=>{!function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.unmountComponentAtNode(e)}))}(),function(){if(!l||!m||!("idOfThumbnailFreeNode"in m))return;const e=document.getElementsByClassName(m.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{o.render(l(),e)}))}()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/485.ed0a232a.chunk.js.map